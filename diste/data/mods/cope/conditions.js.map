{
  "version": 3,
  "sources": ["../../../../data/mods/cope/conditions.ts"],
  "sourcesContent": ["export const Conditions: {[k: string]: ConditionData} = {\n\tsunnyday: {\n\t\tname: 'SunnyDay',\n\t\teffectType: 'Weather',\n\t\tduration: 5,\n\t\tdurationCallback(source, effect) {\n\t\t\tif (source?.hasItem('heatrock')) {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t\treturn 5;\n\t\t},\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\n\t\t\tif (move.id === 'hydrosteam' && !attacker.hasItem('utilityumbrella')) {\n\t\t\t\tthis.debug('Sunny Day Hydro Steam boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tthis.debug('Sunny Day fire boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('Sunny Day water suppress');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonFieldStart(battle, source, effect) {\n\t\t\tif (effect?.effectType === 'Ability') {\n\t\t\t\tthis.effectState.duration = 0;\n\t\t\t\tthis.add('-weather', 'SunnyDay', '[from] ability: ' + effect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-weather', 'SunnyDay');\n\t\t\t}\n\t\t},\n\t\tonImmunity(type, pokemon) {\n\t\t\tif (pokemon.hasItem('utilityumbrella')) return;\n\t\t\tif (type === 'frz') return false;\n\t\t},\n\t\tonFieldResidualOrder: 1,\n\t\tonFieldResidual() {\n\t\t\tthis.add('-weather', 'SunnyDay', '[upkeep]');\n\t\t\tthis.eachEvent('Weather');\n\t\t},\n\t\tonFieldEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\traindance: {\n\t\tname: 'RainDance',\n\t\teffectType: 'Weather',\n\t\tduration: 5,\n\t\tdurationCallback(source, effect) {\n\t\t\tif (source?.hasItem('damprock')) {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t\treturn 5;\n\t\t},\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\n\t\t\tif (move.type === 'Water') {\n\t\t\t\tthis.debug('rain water boost');\n\t\t\t\treturn this.chainModify(1.5);\n\t\t\t}\n\t\t\tif (move.type === 'Fire') {\n\t\t\t\tthis.debug('rain fire suppress');\n\t\t\t\treturn this.chainModify(0.5);\n\t\t\t}\n\t\t},\n\t\tonFieldStart(field, source, effect) {\n\t\t\tif (effect?.effectType === 'Ability') {\n\t\t\t\tthis.effectState.duration = 0;\n\t\t\t\tthis.add('-weather', 'RainDance', '[from] ability: ' + effect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-weather', 'RainDance');\n\t\t\t}\n\t\t},\n\t\tonFieldResidualOrder: 1,\n\t\tonFieldResidual() {\n\t\t\tthis.add('-weather', 'RainDance', '[upkeep]');\n\t\t\tthis.eachEvent('Weather');\n\t\t},\n\t\tonFieldEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\tsandstorm: {\n\t\tname: 'Sandstorm',\n\t\teffectType: 'Weather',\n\t\tduration: 5,\n\t\tdurationCallback(source, effect) {\n\t\t\tif (source?.hasItem('smoothrock')) {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t\treturn 5;\n\t\t},\n\t\t// This should be applied directly to the stat before any of the other modifiers are chained\n\t\t// So we give it increased priority.\n\t\tonModifySpDPriority: 10,\n\t\tonModifySpD(spd, pokemon) {\n\t\t\tif (pokemon.hasType('Rock') && this.field.isWeather('sandstorm')) {\n\t\t\t\treturn this.modify(spd, 1.5);\n\t\t\t}\n\t\t},\n\t\tonFieldStart(field, source, effect) {\n\t\t\tif (effect?.effectType === 'Ability') {\n\t\t\t\tthis.effectState.duration = 0;\n\t\t\t\tthis.add('-weather', 'Sandstorm', '[from] ability: ' + effect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-weather', 'Sandstorm');\n\t\t\t}\n\t\t},\n\t\tonFieldResidualOrder: 1,\n\t\tonFieldResidual() {\n\t\t\tthis.add('-weather', 'Sandstorm', '[upkeep]');\n\t\t\tif (this.field.isWeather('sandstorm')) this.eachEvent('Weather');\n\t\t},\n\t\tonWeather(target) {\n\t\t\tthis.damage(target.baseMaxhp / 16);\n\t\t},\n\t\tonFieldEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\thail: {\n\t\tname: 'Hail',\n\t\teffectType: 'Weather',\n\t\tduration: 5,\n\t\tdurationCallback(source, effect) {\n\t\t\tif (source?.hasItem('icyrock')) {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t\treturn 5;\n\t\t},\n\t\tonModifyDefPriority: 10,\n\t\tonModifyDef(def, pokemon) {\n\t\t\tif (pokemon.hasType('Ice') && this.field.isWeather('hail')) {\n\t\t\t\treturn this.modify(def, 1.5);\n\t\t\t}\n\t\t},\n\t\tonFieldStart(field, source, effect) {\n\t\t\tif (effect?.effectType === 'Ability') {\n\t\t\t\tthis.effectState.duration = 0;\n\t\t\t\tthis.add('-weather', 'Hail', '[from] ability: ' + effect.name, '[of] ' + source);\n\t\t\t} else {\n\t\t\t\tthis.add('-weather', 'Hail');\n\t\t\t}\n\t\t},\n\t\tonFieldResidualOrder: 1,\n\t\tonFieldResidual() {\n\t\t\tthis.add('-weather', 'Hail', '[upkeep]');\n\t\t\tif (this.field.isWeather('hail')) this.eachEvent('Weather');\n\t\t},\n\t\tonWeather(target) {\n\t\t\tthis.damage(target.baseMaxhp / 16);\n\t\t},\n\t\tonFieldEnd() {\n\t\t\tthis.add('-weather', 'none');\n\t\t},\n\t},\n\tslp: {\n\t\tname: 'slp',\n\t\teffectType: 'Status',\n\t\tonStart(target, source, sourceEffect) {\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Move') {\n\t\t\t\tthis.add('-status', target, 'slp', '[from] move: ' + sourceEffect.name);\n\t\t\t} else {\n\t\t\t\tthis.add('-status', target, 'slp');\n\t\t\t}\n\t\t\t// 1-4 turns\n\t\t\tthis.effectState.time = this.random(2, 6);\n\t\t\t// Turns spent using Sleep Talk/Snore immediately before switching out while asleep\n\t\t\tthis.effectState.skippedTime = 0;\n\n\t\t\tif (target.removeVolatile('nightmare')) {\n\t\t\t\tthis.add('-end', target, 'Nightmare', '[silent]');\n\t\t\t}\n\t\t},\n\t\tonSwitchIn(target) {\n\t\t\tthis.effectState.time += this.effectState.skippedTime;\n\t\t\tthis.effectState.skippedTime = 0;\n\t\t},\n\t\tonBeforeMovePriority: 10,\n\t\tonBeforeMove(pokemon, target, move) {\n\t\t\tif (pokemon.hasAbility('earlybird')) {\n\t\t\t\tpokemon.statusState.time--;\n\t\t\t}\n\t\t\tpokemon.statusState.time--;\n\t\t\tif (pokemon.statusState.time <= 0) {\n\t\t\t\tpokemon.cureStatus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.add('cant', pokemon, 'slp');\n\t\t\tif (move.sleepUsable) {\n\t\t\t\tthis.effectState.skippedTime++;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.effectState.skippedTime = 0;\n\t\t\treturn false;\n\t\t},\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}
