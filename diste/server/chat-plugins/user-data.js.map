{
  "version": 3,
  "sources": ["../../../server/chat-plugins/user-data.ts"],
  "sourcesContent": ["import {FS} from '../../lib';\nimport {UserBadge} from '../badges';\nimport {avatars, titles} from './custom';\n\ninterface UserData {\n\tid: string;\n\tname: string;\n\tgroup: GroupSymbol;\n\tbadges: UserBadge[];\n\tcustomAvatar?: string;\n\tcustomTitle?: string;\n}\n\nfunction getAvatar(name: string) {\n\tconst avatarData = avatars[toID(name)];\n\tif (!avatarData) return undefined;\n\treturn avatarData.avatar;\n}\n\nfunction getTitle(name: string) {\n\tconst titleData = titles[toID(name)];\n\tif (!titleData) return undefined;\n\treturn titleData.title;\n}\n\nasync function getUserData(user: User): Promise<UserData | null> {\n\treturn {\n\t\tid: user.id,\n\t\tname: user.name,\n\t\tgroup: user.tempGroup,\n\t\tbadges: user.badges || [],\n\t\tcustomAvatar: getAvatar(user.name),\n\t\tcustomTitle: getTitle(user.name),\n\t};\n}\n\nexport const loginfilter: Chat.LoginFilter = (user) => {\n\tgetUserData(user)\n\t\t.then((userData) => FS(`config/users/${user.id}.json`).writeSync(JSON.stringify(userData)))\n\t\t.catch(() => {});\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB;AAEjB,oBAA8B;AAW9B,SAAS,UAAU,MAAc;AAChC,QAAM,aAAa,sBAAQ,KAAK,IAAI,CAAC;AACrC,MAAI,CAAC;AAAY,WAAO;AACxB,SAAO,WAAW;AACnB;AAEA,SAAS,SAAS,MAAc;AAC/B,QAAM,YAAY,qBAAO,KAAK,IAAI,CAAC;AACnC,MAAI,CAAC;AAAW,WAAO;AACvB,SAAO,UAAU;AAClB;AAEA,eAAe,YAAY,MAAsC;AAChE,SAAO;AAAA,IACN,IAAI,KAAK;AAAA,IACT,MAAM,KAAK;AAAA,IACX,OAAO,KAAK;AAAA,IACZ,QAAQ,KAAK,UAAU,CAAC;AAAA,IACxB,cAAc,UAAU,KAAK,IAAI;AAAA,IACjC,aAAa,SAAS,KAAK,IAAI;AAAA,EAChC;AACD;AAEO,MAAM,cAAgC,CAAC,SAAS;AACtD,cAAY,IAAI,EACd,KAAK,CAAC,iBAAa,eAAG,gBAAgB,KAAK,SAAS,EAAE,UAAU,KAAK,UAAU,QAAQ,CAAC,CAAC,EACzF,MAAM,MAAM;AAAA,EAAC,CAAC;AACjB;",
  "names": []
}
